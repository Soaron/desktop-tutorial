
# Простой USB осциллограф
![][Screens_Oscill]

Очень понравился [_"Простой USB осциллограф" от Stanson_][id_Stanson], и особенно понравились 
скриншоты осциллограмм которые под линуксом.

Решено было повторить его конструкцию. 
После повторения выяснилось, что хорошо настроить АЧХ входного аттенюатора
очень сложно. Сложность настройки сводила на нет всю привлекательную 
простоту конструкции. Но машинка работала и убивать её не хотелось. 
Был найден и использован аттенюатор от древнего осциллографа.
![][Screens_150]

После некоторых изысканий была найдена прекрасно разработанная схема 
входного аттенюатора осциллографа [_NeilScope3_][id_NeilScope]. 

Схема аттенюатора была скопирована полностью, безо всяких изменений. 
Также была доработана прошивка процессора PIC 18F2550 позволяющая управлять 
входным делителем осциллографа. 
[Прошивка v1.03.hex][id_hex]

Осциллограф "Видит" частоты до 2 МГц (в случае использования 
высокоскоростных операционников AD8065 и AD8129) и правильно определяет 
частоту и уровень сигнала. 

Полностью переписана программа мордочки осциллографа под Windows. 
Также скорректирована программа визуального отображения АЧХ. 
И настройки цветов экрана и осциллограммы.
[Архив с программой][id_soft]

Для работы программы необходимы: 
* драйвера [libusb-win32][id_driver]
* .Net Framework 4.6

Проекты которые были получены в процессе изысканий:
* [Первый вариант осциллографа][id1] представлял собой плату с операционными 
усилителями, АЦП и процессором, соединённнную с реальным делителем с полосой 
пропускания 150МГц от старинного осциллографа. 
Конструкция работала неплохо, но была достаточно громоздкой и тоже нуждалась 
в небольшой корректировке входной ёмкости.

* [Вариант платы с операционником AD8066][id2] полностью повторяет схему Stanson. 
Настройка осциллографа также полностью идентична рекомендациям автора. 
Необходимо определить максимальное входное напряжение для Вашего экземпляра АЦП,
которое может различаться в зависимости от партии АЦП. Рзличие очень небольшое 
но оно есть. Единственное отличие от схемы автора, это делитель управляемый при 
помощи новой прошивки процессора. Делитель нуждается в небольшой корректировке 
амплитудно частотной характеристики (АЧХ) при помощи двух конденсаторов в 
зависимости от чувствительности.

* [Вариант платы с оперционным усилителем AD8129][id3], требует только подстройки 
положения линии на экране. Ну и естественно подстройки АЧХ при помощи подстроечных 
конденсаторов. В процессе эксплуатации возможно небольшое смещение линии относительно 
нуля из за теплового дрейфа операционного усилителя, что может корректироваться, 
как подстроечным резистором, так и при помощи ползунка на софт-мордочке осциллографа.
Печатные платы разведены для разных вариантов корпусов операционных усилителей. 
Как с 8-ю, так и с 5-ю выводами.
В проекте использован двухстабильный дистанционный переключатель: __G6KU-2G-Y__
Вместо него можно использовать: __IM41GR__

* [Описание изготовления плат.][id_Making] Если кому интересно.

***
Новые и более совершенные варианты печатных плат, только приветствуются, 
также привествуется более совершенное программное обеспечение, как для винды 
так и для PIC 18F2550, которое например, будет исключать стробоскопический 
эффект при различных частотах развёртки осциллографа.

***

Исходники прошивки и мордочки осциллографа ищем на GitHub [здесь][id_GitHub].

### Проект открытый, а потому "Твори выдумывай пробуй!"

[Screens_Oscill]:Screens/Oscill.png
[Screens_150]:Screens/150.jpg
[id_Stanson]:http://www.stanson.ch/index.php?page=proj&proj=USB-oscope
[id_NeilScope]:https://hobby-research.at.ua/publ/razrabotki/izmerenija/neil_scope_3/4-1-0-42
[id_hex]:Archive/usb-oscope_v1.03.hex
[id_soft]:Archive/Soft.rar
[id_driver]:https://sourceforge.net/projects/libusb-win32/
[id_GitHub]:https://github.com/Soaron/Oscill
[id_Making]:Making/
[id1]:id1/
[id2]:id2/
[id3]:id3/